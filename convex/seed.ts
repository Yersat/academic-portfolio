import { mutation } from "./_generated/server";

export const seedAll = mutation({
  args: {},
  handler: async (ctx) => {
    // Only seed if tables are empty
    const existingBooks = await ctx.db.query("books").first();
    const existingProfile = await ctx.db.query("profile").first();

    if (existingBooks || existingProfile) {
      return { message: "Data already exists, skipping seed" };
    }

    // Seed profile
    await ctx.db.insert("profile", {
      name: "Аязбекова Сабина",
      title: "Профессор философии",
      bio: "Аязбекова Сабина — исследователь и педагог, работающий на стыке культурологии, философии и искусствоведения. Руководит научным направлением «Культура и цивилизация».",
      extendedBio:
        "За более чем два десятилетия научной работы профессор Аязбекова внесла значительный вклад в развитие культурологии и философии в Казахстане и за его пределами. Её исследования охватывают широкий спектр тем — от теории культуры до музыковедения и философии искусства.",
      researchInterests: [
        "Культурология",
        "Философия культуры",
        "Искусствоведение",
        "Музыковедение",
      ],
      university: "Университет",
      email: "contact@bilig.kz",
      location: "Казахстан",
      cvUrl: "#",
    });

    // Seed books — 7 real books from bilig folder

    // Book 1: Мир музыки Газизы Жубановой
    await ctx.db.insert("books", {
      title: "Мир музыки Газизы Жубановой: время – культура – этнос",
      year: "2019",
      publisher: "Баспа-АС",
      isbn: "978-601-7887-01-1",
      coverImage: "/covers/book-cover1.png",
      description:
        "Исследование оперного творчества Газизы Жубановой в контексте взаимодействия культурных парадигм Европы и Азии и музыкальной традиции этноса.",
      abstract:
        "Газиза Ахметовна Жубанова — выдающийся композитор Казахстана, в творчестве которой прочные и органичные связи с казахской культурой раскрываются через призму мировоззрения художника ХХ века, владеющего многообразной техникой письма европейской музыки. В исследовании раскрывается проблематика преломления музыкальной традиции этноса и бикультуры в творческой деятельности Газизы Жубановой. Исследование оперного творчества («Енлик и Кебек», «Двадцать восемь» и «Курмангазы») позволило выявить контекстуальные связи с этническим самосознанием казахов, в частности, с категориями времени и пространства казахской традиционной культуры. Книга рассчитана на специалистов по теории и истории культуры, востоковедов и музыковедов.",
      status: "published",
      pdfPrice: 5000,
      pdfCurrency: "KZT",
      isPublished: true,
    });

    // Book 2: Коркут-Ата и философия музыки казахов
    await ctx.db.insert("books", {
      title: "Коркут-Ата и философия музыки казахов: картина мира этноса",
      year: "2019",
      publisher: "Баспа-АС",
      isbn: "978-601-7887-02-8",
      coverImage: "/covers/book-cover2.png",
      description:
        "Исследование статуса музыки в контексте космоцентрической картины мира казахов и феномена миротворчества Коркут-ата.",
      abstract:
        "В исследовании статус музыки представлен в контексте многообразных связей Мира и Человека. Картина мира этноса рассматривается как синтезирующая основа триады: Мир – «Этническое Я» – Ценность. Анализ различных типов картины мира по культуротворческим приоритетам определил понимание традиционной картины мира казахов как космоцентрической. Феномен миротворчества Коркут-ата выявил важную особенность казахского космоцентризма: Гармония Мира задается Гармонией Музыки. Космогоническая мифология показала, что в древности Музыке отводилась главная роль не только в познании и осмыслении Мира, но и сам Мир для казахов был музыкально-оформленным и музыкально-структурированным. Книга рассчитана на специалистов по философии, теории и истории культуры, востоковедов и музыковедов.",
      status: "published",
      pdfPrice: 5000,
      pdfCurrency: "KZT",
      isPublished: true,
    });

    // Book 3: Культура и искусство Великой степи
    await ctx.db.insert("books", {
      title: "Культура и искусство Великой степи: культурфилософский и цивилизационный контекст",
      year: "2019",
      publisher: "Баспа-АС",
      isbn: "978-601-7887-03-5",
      coverImage: "/covers/book-cover3.png",
      description:
        "Монография о зарождении и развитии искусства Великой степи — от эпохи палеолита до цивилизаций номадов, на примере петроглифов и музыкального искусства.",
      abstract:
        "Монография «Культура и искусство Великой степи» является продолжением книги «Цивилизации Великой степи». Искусство Великой степи зародилось в эпоху палеолита, веками-тысячелетиями оттачивая формы бытования, жанровое разнообразие и стилистические закономерности. В исследовании на примере петроглифов и музыкального искусства раскрываются особенности мировых и локальных цивилизаций Великой степи: номадической и оседлой мировых цивилизаций, а также тенгрианской, скифо-сакской, тюркской и монгольской локальных цивилизаций. Показана генетическая связь и единство искусства этих цивилизаций. Издание рекомендуется искусствоведам, философам, историкам, культурологам.",
      status: "published",
      pdfPrice: 5000,
      pdfCurrency: "KZT",
      isPublished: true,
    });

    // Book 4: Man and Society in Botai Culture (English)
    await ctx.db.insert("books", {
      title: "Man and Society in Botai Culture: Civilizational Discourse",
      year: "2019",
      publisher: "Баспа-АС",
      isbn: "978-601-7887-04-2",
      coverImage: "/covers/book-cover4.png",
      description:
        "A civilizational study of the Botai archaeological culture (3700–3100 BC) as the earliest known centre of horse domestication and its role in the genesis of Eurasian civilizations.",
      abstract:
        "The Botai archaeological culture (3700–3100 BC), located in northwestern Kazakhstan, was discovered by the renowned archaeologist V.F. Zaibert in 1980. Since then, Botai has gained worldwide recognition as the earliest known centre of horse domestication, which played a decisive role in the development of human civilization. The monograph continues the cycle of works on the macro-civilizational system, genesis and evolution of the Great Steppe civilizations. The authors employ an interdisciplinary methodology, drawing on methods from civilizational studies, philosophy, archaeology, history, DNA genealogy, linguistics, cultural studies and ethnology. Key findings include: Botai culture as the origin of Kazakh statehood; Botai as a generator of several civilizations; traces of the earliest type of writing; and the existence of one of the earliest religions — Tengrism.",
      status: "published",
      pdfPrice: 5000,
      pdfCurrency: "KZT",
      isPublished: true,
    });

    // Book 5: Ботай мәдениетіндегі адам және қоғам (Kazakh)
    await ctx.db.insert("books", {
      title: "Ботай мәдениетіндегі адам және қоғам: өркениеттік дискурс",
      year: "2019",
      publisher: "Баспа-АС",
      isbn: "978-601-7887-05-9",
      coverImage: "/covers/book-cover5.png",
      description:
        "Ботай археологиялық мәдениеті (б.з.д. 3700–3100 жж.) туралы өркениеттік зерттеу — жылқыны қолға үйретудің ең ерте белгілі орталығы.",
      abstract:
        "Ботай археологиялық мәдениеті (б.з.д. 3700–3100 жж.) Қазақстанның солтүстік-батысында орналасқан, оны белгілі археолог В.Ф. Зайберт 1980 жылы ашқан. Содан бері «Ботай» жылқыны қолға үйретудің ең ерте анықталған орталығы ретінде әлемдік мойындауға ие болды. Монография Ұлы дала өркениеттерінің макроөркениеттік жүйесі, генезисі мен эволюциясы туралы жұмыстар циклін жалғастырады. Авторлар пәнаралық әдіснаманы қолданады — өркениеттану, философия, археология, тарих, ДНҚ-генеалогия, лингвистика, мәдениеттану және этнология.",
      status: "published",
      pdfPrice: 5000,
      pdfCurrency: "KZT",
      isPublished: true,
    });

    // Book 6: Человек и общество в Ботайской культуре (Russian)
    await ctx.db.insert("books", {
      title: "Человек и общество в Ботайской культуре: цивилизационный дискурс",
      year: "2019",
      publisher: "Баспа-АС",
      isbn: "978-601-7887-06-6",
      coverImage: "/covers/book-cover6.png",
      description:
        "Цивилизационное исследование Ботайской археологической культуры (3700–3100 гг. до н.э.) как древнейшего центра доместикации лошади и её роли в генезисе евразийских цивилизаций.",
      abstract:
        "Ботайская археологическая культура (3700–3100 гг. до н.э.), расположенная на северо-западе Казахстана, была открыта известным археологом В.Ф. Зайбертом в 1980 году. С этого времени «Ботай» приобрёл мировое признание как самый ранний обнаруженный центр доместикации лошади, что сыграло решающее значение в развитии общечеловеческой цивилизации. Монография продолжает цикл работ по вопросам макроцивилизационной системы, генезиса и эволюции цивилизаций Великой степи. Авторы опираются на междисциплинарную методологию, привлекая данные цивилиологии, философии, археологии, истории, ДНК-генеалогии, лингвистики, культурологии и этнологии. Ключевые результаты: Ботайская культура как исток казахской государственности; генератор развития нескольких цивилизаций; истоки самого раннего типа письменности; существование одной из самых ранних религий — тенгрианства.",
      status: "published",
      pdfPrice: 5000,
      pdfCurrency: "KZT",
      isPublished: true,
    });

    // Book 7: Цивилизации Великой степи
    await ctx.db.insert("books", {
      title: "Цивилизации Великой степи: философско-культурологический анализ (к проблеме начала)",
      year: "2019",
      publisher: "Баспа-АС",
      isbn: "978-601-7887-07-3",
      coverImage: "/covers/book-cover7.png",
      description:
        "Фундаментальная монография о Великой евразийской степи как очаге зарождения мировых и локальных цивилизаций, с типологией номадических и оседлых цивилизаций.",
      abstract:
        "В монографии рассматривается Великая евразийская степь как очаг зарождения мировых и локальных цивилизаций. Предложена типология цивилизаций: мировые (синхронные и диахронные) и локальные (эндогенные и экзогенные). К синхронным мировым цивилизациям отнесены номадическая и оседлая. Показывается, как на территории Великой степи из номадической цивилизации произрастают признаки оседлой цивилизации. К эндогенным цивилизациям Великой степи отнесены тенгрианская, скифо-сакская, тюркская и монгольская цивилизации. В сопоставительном срезе анализируется общность номадической цивилизации с локальными древними цивилизациями Евразии, Африки и Мезоамерики. Издание рекомендуется философам, историкам, культурологам.",
      status: "published",
      pdfPrice: 5000,
      pdfCurrency: "KZT",
      isPublished: true,
    });

    // Seed media
    await ctx.db.insert("mediaItems", {
      title: "Ежегодный доклад: Будущее культурологии",
      date: "2023-11-15",
      type: "Lecture",
      description: "Доклад на Международной конференции по культурологии.",
      videoUrl: "dQw4w9WgXcQ",
      tags: ["Культурология", "Доклад", "2023"],
      status: "published",
    });

    await ctx.db.insert("mediaItems", {
      title: "Интервью для научного радио",
      date: "2022-05-10",
      type: "Interview",
      description:
        "Подробный разговор о философии культуры для широкой аудитории.",
      videoUrl: "dQw4w9WgXcQ",
      tags: ["Интервью", "Научпоп"],
      status: "published",
    });

    // Seed research
    await ctx.db.insert("researchPapers", {
      title: "О природе культурных границ",
      year: "2023",
      journal: "Вопросы культурологии",
      authors: "Аязбеков С., Аязбекова С.",
      abstract:
        "В статье представлены эмпирические данные о формировании и трансформации культурных границ в условиях глобализации.",
      status: "published",
    });

    // Initialize invoice counter
    await ctx.db.insert("invoiceCounter", { value: 0 });

    return { message: "Seed data created successfully" };
  },
});
